{
  "_from": "keythereum",
  "_id": "keythereum@1.0.4",
  "_inBundle": false,
  "_integrity": "sha512-c3gWM0nQ6x5TKAzTOA1yIqn73S8sP9+lR7mc7QS6t509g7C0/CukykxGA6+B+aXI6BIrlSwVh5muPv/I1lD9LA==",
  "_location": "/keythereum",
  "_phantomChildren": {
    "bindings": "1.5.0",
    "bip66": "1.1.5",
    "bn.js": "4.11.8",
    "create-hash": "1.2.0",
    "drbg.js": "1.0.1",
    "elliptic": "6.4.1",
    "nan": "2.10.0",
    "safe-buffer": "5.1.2"
  },
  "_requested": {
    "escapedName": "keythereum",
    "fetchSpec": "latest",
    "name": "keythereum",
    "raw": "keythereum",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/keythereum/-/keythereum-1.0.4.tgz",
  "_shasum": "e3ac3e41569efab8e5129a12286c6a60dc02ee39",
  "_spec": "keythereum",
  "_where": "/home/di3twater/Documents/SBC/SBC-ETH",
  "author": {
    "email": "jack@tinybike.net",
    "name": "Jack Peterson"
  },
  "browser": {
    "scrypt": false
  },
  "bugs": {
    "url": "https://github.com/ethereumjs/keythereum/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "crypto-browserify": "3.12.0",
    "keccak": "1.4.0",
    "scrypt": "6.0.3",
    "secp256k1": "3.5.0",
    "sjcl": "1.0.6",
    "uuid": "3.0.0"
  },
  "deprecated": false,
  "description": "Create, import and export Ethereum keys",
  "devDependencies": {
    "babel-plugin-transform-es3-member-expression-literals": "6.22.0",
    "babel-plugin-transform-es3-property-literals": "6.22.0",
    "babel-preset-env": "1.6.0",
    "babel-preset-stage-0": "6.16.0",
    "browserify": "13.1.1",
    "chai": "4.1.2",
    "coveralls": "3.0.1",
    "eslint": "4.19.1",
    "geth": "0.2.2",
    "istanbul": "0.4.5",
    "mocha": "5.1.1",
    "uglify-js": "2.6.1",
    "validator": "7.0.0"
  },
  "directories": {
    "lib": "lib",
    "test": "test"
  },
  "homepage": "https://github.com/ethereumjs/keythereum#readme",
  "license": "MIT",
  "main": "index.js",
  "name": "keythereum",
  "optionalDependencies": {},
  "readme": "# keythereum\n\n[![Build Status](https://travis-ci.org/ethereumjs/keythereum.svg?branch=master)](https://travis-ci.org/ethereumjs/keythereum) [![Coverage Status](https://coveralls.io/repos/github/ethereumjs/keythereum/badge.svg?branch=master)](https://coveralls.io/github/ethereumjs/keythereum?branch=master) [![npm version](https://badge.fury.io/js/keythereum.svg)](http://badge.fury.io/js/keythereum)\n\nKeythereum is a JavaScript tool to generate, import and export Ethereum keys.  This provides a simple way to use the same account locally and in web wallets.  It can be used for verifiable cold storage wallets.\n\nKeythereum uses the same key derivation functions (PBKDF2-SHA256 or scrypt), symmetric ciphers (AES-128-CTR or AES-128-CBC), and message authentication codes as [geth](https://github.com/ethereum/go-ethereum).  You can export your generated key to file, copy it to your data directory's keystore, and immediately start using it in your local Ethereum client.\n\n*Note: starting in version 0.5.0, keythereum's `encrypt` and `decrypt` functions both return Buffers instead of strings.  This is a breaking change for anyone using these functions directly!*\n\n## Installation\n\n```\nnpm install keythereum\n```\n\n## Usage\n\nTo use keythereum in Node.js, just `require` it:\n\n```javascript\nvar keythereum = require(\"keythereum\");\n```\n\nA minified, browserified file `dist/keythereum.min.js` is included for use in the browser.  Including this file simply attaches the `keythereum` object to `window`:\n\n```html\n<script src=\"dist/keythereum.min.js\" type=\"text/javascript\"></script>\n```\n\n### Key creation\n\nGenerate a new random private key (256 bit), as well as the salt (256 bit) used by the key derivation function, and the initialization vector (128 bit) used to AES-128-CTR encrypt the key.  `create` is asynchronous if it is passed a callback function, and synchronous otherwise.\n\n```javascript\n// optional private key and initialization vector sizes in bytes\n// (if params is not passed to create, keythereum.constants is used by default)\nvar params = { keyBytes: 32, ivBytes: 16 };\n\n// synchronous\nvar dk = keythereum.create(params);\n// dk:\n{\n    privateKey: <Buffer ...>,\n    iv: <Buffer ...>,\n    salt: <Buffer ...>\n}\n\n// asynchronous\nkeythereum.create(params, function (dk) {\n    // do stuff!\n});\n```\n\n### Key export\n\nYou will need to specify a password and (optionally) a key derivation function.  If unspecified, PBKDF2-SHA256 will be used to derive the AES secret key.\n\n```javascript\nvar password = \"wheethereum\";\nvar kdf = \"pbkdf2\"; // or \"scrypt\" to use the scrypt kdf\n```\n\nThe `dump` function is used to export key info to keystore [\"secret-storage\" format](https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition).  If a callback function is supplied as the sixth parameter to `dump`, it will run asynchronously:\n\n```javascript\n// Note: if options is unspecified, the values in keythereum.constants are used.\nvar options = {\n  kdf: \"pbkdf2\",\n  cipher: \"aes-128-ctr\",\n  kdfparams: {\n    c: 262144,\n    dklen: 32,\n    prf: \"hmac-sha256\"\n  }\n};\n\n// synchronous\nvar keyObject = keythereum.dump(password, dk.privateKey, dk.salt, dk.iv, options);\n// keyObject:\n{\n  address: \"008aeeda4d805471df9b2a5b0f38a0c3bcba786b\",\n  Crypto: {\n    cipher: \"aes-128-ctr\",\n    ciphertext: \"5318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46\",\n    cipherparams: {\n      iv: \"6087dab2f9fdbbfaddc31a909735c1e6\"\n    },\n    mac: \"517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2\",\n    kdf: \"pbkdf2\",\n    kdfparams: {\n      c: 262144,\n      dklen: 32,\n      prf: \"hmac-sha256\",\n      salt: \"ae3cd4e7013836a3df6bd7241b12db061dbe2c6785853cce422d148a624ce0bd\"\n    }\n  },\n  id: \"e13b209c-3b2f-4327-bab0-3bef2e51630d\",\n  version: 3\n}\n\n// asynchronous\nkeythereum.dump(password, dk.privateKey, dk.salt, dk.iv, options, function (keyObject) {\n  // do stuff!\n});\n```\n\n`dump` creates an object and not a JSON string.  In Node, the `exportToFile` method provides an easy way to export this formatted key object to file.  It creates a JSON file in the `keystore` sub-directory, and uses geth's current file-naming convention (ISO timestamp concatenated with the key's derived Ethereum address).\n\n```javascript\nkeythereum.exportToFile(keyObject);\n```\n\nAfter successful key export, you will see a message like:\n\n```\nSaved to file:\nkeystore/UTC--2015-08-11T06:13:53.359Z--008aeeda4d805471df9b2a5b0f38a0c3bcba786b\n\nTo use with geth, copy this file to your Ethereum keystore folder\n(usually ~/.ethereum/keystore).\n```\n\n### Key import\n\nImporting a key from geth's keystore can only be done on Node.  The JSON file is parsed into an object with the same structure as `keyObject` above.\n\n```javascript\n// Specify a data directory (optional; defaults to ~/.ethereum)\nvar datadir = \"/home/jack/.ethereum-test\";\n\n// Synchronous\nvar keyObject = keythereum.importFromFile(address, datadir);\n\n// Asynchronous\nkeythereum.importFromFile(address, datadir, function (keyObject) {\n  // do stuff\n});\n```\nThis has been tested with version 3 and version 1, but not version 2, keys.  (Please send me a version 2 keystore file if you have one, so I can test it!)\n\nTo recover the plaintext private key from the key object, use `keythereum.recover`.  The private key is returned as a Buffer.\n\n```javascript\n// synchronous\nvar privateKey = keythereum.recover(password, keyObject);\n// privateKey:\n<Buffer ...>\n\n// Asynchronous\nkeythereum.recover(password, keyObject, function (privateKey) {\n  // do stuff\n});\n```\n\n### Hashing rounds\n\nBy default, keythereum uses 65536 hashing rounds in its key derivation functions, compared to the 262144 geth uses by default.  (Keythereum's JSON output files are still compatible with geth, however, since they tell geth how many rounds to use.)  These values are user-editable: `keythereum.constants.pbkdf2.c` is the number of rounds for PBKDF2, and `keythereum.constants.scrypt.n` is the number of rounds for scrypt.\n\n## Tests\n\nUnit tests are in the `test` directory, and can be run with mocha:\n\n```\nnpm test\n```\n\n`test/geth.js` is an integration test, which is run (along with `test/keys.js`) using:\n\n```\nnpm run geth\n```\n\n`geth.js` generates 1000 random private keys, encrypts each key using a randomly-generated passphrase, dumps the encrypted key info to a JSON file, then spawns a geth instance and attempts to unlock each account using its passphrase and JSON file.  The passphrases are between 1 and 100 random bytes.  Each passphrase is tested in both hexadecimal and base-64 encodings, and with PBKDF2-SHA256 and scrypt key derivation functions.\n\nBy default, the flags passed to geth are:\n\n```\ngeth --etherbase <account> --unlock <account> --nodiscover --networkid \"10101\" --port 30304 --rpcport 8547 --datadir test/fixtures --password test/fixtures/.password\n```\n\n`test/fixtures/.password` is a file which contains the passphrase.  The `.password` file, as well as the JSON key files generated by `geth.js`, are automatically deleted after the test.\n\n(Note: `geth.js` conducts 4000 tests, each of which can take up to 5 seconds, so running this file can take up to 5.56 hours.)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/ethereumjs/keythereum.git"
  },
  "scripts": {
    "build": "browserify ./exports.js > ./dist/keythereum.js && uglifyjs ./dist/keythereum.js > ./dist/keythereum.min.js",
    "build:tests": "browserify test/keys.js > test/browser/bundle.js",
    "coverage": "istanbul cover -x **/lib/** ./node_modules/mocha/bin/_mocha test/keys.js",
    "geth": "mocha -R progress test/keys.js && mocha -R progress test/geth.js",
    "lint": "eslint index.js && eslint gulpfile.js && eslint test/*.js",
    "test": "mocha test/keys.js"
  },
  "version": "1.0.4"
}
